常用命令

##### 整机

1. top
   1. load average:表示系统 五分钟，10分钟，15分钟的负载,超过0.6则负载较高
   2. 按1显示所有cpu的使用
   3. uptime精简模式

##### cpu

1. vmstat

   1. vmstat -n 2 3 每两秒采样一次总共采样三次

   2. ```
      procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----
       r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st
       2  0      0 287616  38864 542400    0    0    33    67  282 3437  2  1 97  0  0
       2  0      0 287608  38864 542400    0    0     0     6  300  319 100  0  0  0  0
       2  0      0 287608  38864 542400    0    0     0     0  282  303 100  0  0  0  0
      
      ```

      r：运行和等待cpu时间片的进程数，原则上1核的cpu的运行队列不要超过2，整个系统的运行队列不能超过总核数的2倍

      b:等待资源的进程数，比如正在等待磁盘I/O、网络I/O

      us：用户进程消耗的cpu

      sy：系统消耗的cpu

      id：处于空闲状态的cpu百分比

      wa：系统等待IO的cpu时间百分比

      st：来自于一个虚拟机偷取的CPU时间的百分比

      us+sys大于80% 则负载过高

2. mpstat -p All 2

##### 内存

1. free
   1. free -m
      1. 物理内存大于 70% 内存你虹足 <20% 内存不足
   2. pidstat -p 进程号  -r 采样时间

##### 硬盘

1. df
   1. df -h 



##### 磁盘IO：

1. iostat

   1. iostat -xdk

      1. ```
         Device            r/s     w/s     rkB/s     wkB/s   rrqm/s   wrqm/s  %rrqm  %wrqm r_await w_await aqu-sz rareq-sz wareq-sz  svctm  %util
         loop0            0.00    0.00      0.00      0.00     0.00     0.00   0.00   0.00    0.00    0.00   0.00     0.00     0.00   0.00   0.00
         loop1            0.00    0.00      0.00      0.00     0.00     0.00   0.00   0.00    0.00    0.00   0.00     0.00     0.00   0.00   0.00
         loop2            0.00    0.00      0.00      0.00     0.00     0.00   0.00   0.00    0.00    0.00   0.00     0.00     0.00   0.00   0.00
         loop3            0.00    0.00      0.00      0.00     0.00     0.00   0.00   0.00    0.00    0.00   0.00     0.00     0.00   0.00   0.00
         loop4            0.00    0.00      0.00      0.00     0.00     0.00   0.00   0.00    0.00    0.00   0.00     0.00     0.00   0.00   0.00
         xvda             0.00    5.00      0.00     30.00     0.00     2.50   0.00  33.33    0.00    0.00   0.00     0.00     6.00   0.00   0.00
         ```

         1. svctm io 请求的平均服务时间单位为毫秒
         2. await Io请求的平均等待时间，单位为毫秒
         3. 如果await的值远高于svctm的值，则表示io队列等待太长
         4. util：一秒钟有百分之几用于Io，如果接近100%， 表示磁盘负载过高

   2. iostat -h

   3. pid stat -d 采样间隔秒数 -p 进程号

##### 网络

 	1. ifstat
      	1. 查看网络io

env查看环境变量

set查看所有变量

ps auxf

umask

用来设置限制新建文件权限的掩码。



Jobs:当前终端后台运行的程序



Bc 用来计算小数计算 。basic calculator by 



`<<<` denotes a here string.

```bsh
$ cat <<< 'hi there'
hi there
```